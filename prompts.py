import json
import os


class PromptManager:
    """
    Manages loading and accessing prompts for the summarizer.

    It first loads default prompts defined in the class, and then overrides them
    with any custom prompts defined in an external `prompts.json` file.

    Prompts can be accessed as attributes, e.g., `prompts.DUPLICATE_CHECK_PROMPT`.
    """

    def __init__(self, prompts_file="prompts.json"):
        self._defaults = {
            "DUPLICATE_CHECK_PROMPT": """
–û–ø–∏—Å—ã–≤–∞—é—Ç –ª–∏ —Å–ª–µ–¥—É—é—â–∏–µ –¥–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏–ª–∏ —Å—Ç–∞—Ç—å—é?
–û—Ç–≤–µ—Ç—å—Ç–µ –¥–∞ –∏–ª–∏ –Ω–µ—Ç.
""",
            "SUMMARY_COVERAGE_CHECK_PROMPT": """
–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ç–µ–∫—Å—Ç–æ–≤. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –±—ã–ª–∞ –ª–∏ —Ç–µ–º–∞ –∏–∑ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —É–∂–µ –æ—Å–≤–µ—â–µ–Ω–∞ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–∞–π–¥–∂–µ—Å—Ç–∞—Ö.

    –ü—Ä–∞–≤–∏–ª–∞:
    1. –°—Ä–∞–≤–Ω–∏–≤–∞–π –¢–ï–ú–£ –∏ –û–°–ù–û–í–ù–£–Æ –ò–î–ï–Æ —Å–æ–æ–±—â–µ–Ω–∏—è, –∞ –Ω–µ —Ç–æ—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏
    2. –ï—Å–ª–∏ —Ç–µ–º–∞ —É–∂–µ –±—ã–ª–∞ –æ—Å–≤–µ—â–µ–Ω–∞ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–∞–π–¥–∂–µ—Å—Ç–∞—Ö, –æ—Ç–≤–µ—á–∞–π "–î–ê"
    3. –ï—Å–ª–∏ —ç—Ç–æ –Ω–æ–≤–∞—è —Ç–µ–º–∞, –æ—Ç–≤–µ—á–∞–π "–ù–ï–¢"
    4. –£—á–∏—Ç—ã–≤–∞–π —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∏–≥–Ω–æ—Ä–∏—Ä—É–π –º–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏

    –ü—Ä–∏–º–µ—Ä—ã:
    - "–ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º GPT-5" –∏ "OpenAI –∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª GPT-5" = –î–ê (—Ç–∞ –∂–µ —Ç–µ–º–∞)
    - "–ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º GPT-5" –∏ "–ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º BERT" = –ù–ï–¢ (—Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã)
    - "–¶–µ–Ω–∞ –∞–∫—Ü–∏–π NVIDIA –≤—ã—Ä–æ—Å–ª–∞" –∏ "NVIDIA –ø–æ–∫–∞–∑–∞–ª–∞ —Ö–æ—Ä–æ—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã" = –î–ê (—Ç–∞ –∂–µ —Ç–µ–º–∞)
    - "–Ø–Ω –õ–µ–∫—É–Ω –æ–±—Å—É–¥–∏–ª —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –Ω–∞—É—á–Ω—ã–º–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è–º–∏ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–∏–µ–π" –∏ "–Ø–Ω –õ–µ–∫—É–Ω –ø–æ–¥–¥–µ—Ä–∂–∞–ª —Ç–µ—Ä–º–∏–Ω ¬´—Ä–∏—Å–µ—Ä—á–µ—Ä¬ª, –æ—Å–ø–∞—Ä–∏–≤–∞—è –º–Ω–µ–Ω–∏–µ –ò–ª–æ–Ωa –ú–∞—Å–∫–∞" = –î–ê (—Ç–∞ –∂–µ —Ç–µ–º–∞)

    –û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ "–î–ê" –∏–ª–∏ "–ù–ï–¢".
""",
            "GROUP_SUMMARY_COVERAGE_CHECK_PROMPT": """
–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ç–µ–∫—Å—Ç–æ–≤. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –±—ã–ª–∞ –ª–∏ —Ç–µ–º–∞ –∏–∑ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —É–∂–µ –æ—Å–≤–µ—â–µ–Ω–∞ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–∞–π–¥–∂–µ—Å—Ç–∞—Ö –≥—Ä—É–ø–ø.

–ü—Ä–∞–≤–∏–ª–∞:
1. –°—Ä–∞–≤–Ω–∏–≤–∞–π –¢–ï–ú–£ –∏ –û–°–ù–û–í–ù–£–Æ –ò–î–ï–Æ —Å–æ–æ–±—â–µ–Ω–∏—è, –∞ –Ω–µ —Ç–æ—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏
2. –ï—Å–ª–∏ —Ç–µ–º–∞ —É–∂–µ –±—ã–ª–∞ –æ—Å–≤–µ—â–µ–Ω–∞ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–∞–π–¥–∂–µ—Å—Ç–∞—Ö –≥—Ä—É–ø–ø, –æ—Ç–≤–µ—á–∞–π "–î–ê"
3. –ï—Å–ª–∏ —ç—Ç–æ –Ω–æ–≤–∞—è —Ç–µ–º–∞, –æ—Ç–≤–µ—á–∞–π "–ù–ï–¢"
4. –£—á–∏—Ç—ã–≤–∞–π —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∏–≥–Ω–æ—Ä–∏—Ä—É–π –º–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏

–ü—Ä–∏–º–µ—Ä—ã:
- "–ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º GPT-5" –∏ "OpenAI –∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª GPT-5" = –î–ê (—Ç–∞ –∂–µ —Ç–µ–º–∞)
- "–ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º GPT-5" –∏ "–ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º BERT" = –ù–ï–¢ (—Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã)
- "–¶–µ–Ω–∞ –∞–∫—Ü–∏–π NVIDIA –≤—ã—Ä–æ—Å–ª–∞" –∏ "NVIDIA –ø–æ–∫–∞–∑–∞–ª–∞ —Ö–æ—Ä–æ—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã" = –î–ê (—Ç–∞ –∂–µ —Ç–µ–º–∞)

–û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ "–î–ê" –∏–ª–∏ "–ù–ï–¢".
""",
            "NLP_RELEVANCE_PROMPT": """
–í—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—Å—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º –¥–ª—è NLP/ML/AI/programming/Python –¥–∞–π–¥–∂–µ—Å—Ç–∞.

–ü–†–ò–ù–ò–ú–ê–ô–¢–ï (–æ—Ç–≤–µ—Ç—å—Ç–µ '–¥–∞'):
- –ù–∞—É—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–±–∑–æ—Ä—ã –∏ –±–µ–Ω—á–º–∞—Ä–∫–∏
- –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –∏ –≤–æ—Ä–∫—à–æ–ø—ã
- –û—Ç–∫—Ä—ã—Ç—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ –¥–∞—Ç–∞—Å–µ—Ç—ã
- –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ Kaggle, —Ö–∞–∫–∞—Ç–æ–Ω—ã –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ —Å–æ–≤–µ—Ç—ã –æ –∫–∞—Ä—å–µ—Ä–µ –∏ –≤–∞–∫–∞–Ω—Å–∏—è—Ö
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ç-–ø—Ä–æ–µ–∫—Ç–∞—Ö
- –¢–µ–∫—Å—Ç—ã –ø–æ –∏–∏ –∏ bigtech –∫–æ–º–ø–∞–Ω–∏–∏
- –¢–µ–∫—Å—Ç—ã –ø—Ä–æ —Å—Ç–∞—Ä—Ç–∞–ø—ã
- –¢–µ–∫—Å—Ç—ã –ø—Ä–æ –∏–∏-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (ChatGPT, GPT, Claude, Gemini, Grok, DeepSeek, KlingAi, Midjourney etc.)
- –õ—é–±—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ –°—ç–º–∞ –ê–ª—å—Ç–º–∞–Ω–∞ (Sam Altman), –ú–∞—Ä–∫–∞ –¶—É–∫–µ—Ä–±–µ—Ä–≥–∞
OpenAI, Anthropic, Google, Meta, Microsoft, Nvidia, FAANG –∏ —Ç.–¥.
- –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ –ø–æ–∫—É–ø–∫—É, –ø—Ä–æ–¥–∞–∂—É –∫–æ–º–ø–∞–Ω–∏–π –∏ –ø–æ–≥–ª–æ—â–µ–Ω–∏—è
- –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è –∏ –ò–ò-—ç–∫–æ–Ω–æ–º–∏–∫—É
- –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ GPU –∏ –∂–µ–ª–µ–∑–æ
- –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ –≤–∞–π–±–∫–æ–¥–∏–Ω–≥ (vibe coding) –∏ –∏–∏-–∞–≥–µ–Ω—Ç–æ–≤ (—á–∞—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ –∞–≥–µ–Ω—Ç—ã, agents)
- –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ LLM –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ –æ–ø—ã—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –º–æ–¥–µ–ª–µ–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
- –ú–µ–º—ã –∏–∑ –º–∏—Ä–∞ –∏–∏ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- –ü—Ä–æ–º–ø—Ç-–∏–Ω–∂–µ–Ω–∏—Ä–∏–Ω–≥
- –û–ø—ã—Ç –¥–æ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ LoRA –∏ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π

–û–¢–ö–õ–û–ù–Ø–ô–¢–ï (–æ—Ç–≤–µ—Ç—å—Ç–µ '–Ω–µ—Ç'):
- –ö—É—Ä—Å—ã, –æ–±—É—á–µ–Ω–∏–µ, –ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –†–µ–∫–ª–∞–º–∞ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö LLM (GigaChat, YandexGPT)
- –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ —É—Å–ª—É–≥–∏
- –í–µ–±–∏–Ω–∞—Ä—ã —Å –ø—Ä–æ–¥–∞–∂–∞–º–∏
- –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- Hiring days
- –í —Å–æ–æ–±—â–µ–Ω–∏–∏ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –≤–µ–¥—É—â–∏–µ –Ω–∞ –±–æ—Ç–æ–≤, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ —É–∫–∞–∑–∞–Ω–æ –ø–µ—Ä–µ–¥ —Å—Å—ã–ª–∫–æ–π, —á—Ç–æ —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, @ChattyEnglishBot)
–û—Ç–≤–µ—á–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ '–¥–∞' –∏–ª–∏ '–Ω–µ—Ç'.
""",
            "CHANNEL_SUMMARY_PROMPT": """
–û–±–æ–±—â–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram –≤ –∫—Ä–∞—Ç–∫–∏–π –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ NLP.
–Ø–∑—ã–∫ –¥–∞–π–¥–∂–µ—Å—Ç–∞ - —Ä—É—Å—Å–∫–∏–π, —Å—Å—ã–ª–∫–∏ –∏ —Ç–µ—Ä–º–∏–Ω—ã –æ—Å—Ç–∞–≤–ª—è–π –Ω–∞ —è–∑—ã–∫–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞.
–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π—Ç–µ –¥–∞–π–¥–∂–µ—Å—Ç –ø–æ —Ç–µ–º–∞–º –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ
–Ω–æ–º–µ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö [1], [2], [3] –∏ —Ç.–¥. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≥–æ–≤–æ—Ä—è—Ç
–æ–± –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ, —Ç–æ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤—Å–µ.
–î–ª—è —Å—Ç–∞—Ç–µ–π –∏ –Ω–æ–≤—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
–í–ê–ñ–ù–û: –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤–≤–µ–¥–µ–Ω–∏–µ –∏ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ. –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å—Ä–∞–∑—É —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–∞.
–í–ê–ñ–ù–û: –£—á–∏—Ç—ã–≤–∞–π—Ç–µ, —á—Ç–æ Telegram-–∫–∞–Ω–∞–ª—ã –≤—ã—Ä–∞–∂–∞—é—Ç —Å–≤–æ–µ –º–Ω–µ–Ω–∏–µ –∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏.
–ï—Å–ª–∏ –∞–≤—Ç–æ—Ä –∫–∞–Ω–∞–ª–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —á—Ç–æ-—Ç–æ –∏–ª–∏ –¥–∞–µ—Ç —Å–æ–≤–µ—Ç—ã, –ù–ï –¥–æ—Å–ª–æ–≤–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–π—Ç–µ —ç—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ –æ–ø–∏—à–∏—Ç–µ —Ñ–∞–∫—Ç—ã –∏ —Å–æ–±—ã—Ç–∏—è, –æ –∫–æ—Ç–æ—Ä—ã—Ö –∏–¥–µ—Ç —Ä–µ—á—å.
–í–ê–ñ–ù–û: –ü–†–ò–î–ï–†–ñ–ò–í–ê–ô–¢–ï–°–¨ –ù–ï–ô–¢–†–ê–õ–¨–ù–û–ì–û –°–¢–ò–õ–Ø, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ,
–≤–æ—Å—Ç–æ—Ä–∂–µ–Ω–Ω—ã–µ –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–µ—É–≤–µ–ª–∏—á–µ–Ω–∏—è. –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ, –±–µ–∑ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–∏.
–í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∏–ª—å –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º –∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤.
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å—Ç–∏–ª—å –∏—Å—Ö–æ–¥–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–º–æ–¥–∑–∏,
–∫–æ—Ä–æ—Ç–∫–∏–µ –∏ —è—Ä–∫–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –¥–ª—è Telegram. –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏.
–í–ê–ñ–ù–û: –í –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ 1-5 —ç–º–æ–¥–∑–∏, –∫–æ—Ç–æ—Ä—ã–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ –∏ –º–µ—Ç–∞—Ñ–æ—Ä–∏—á–Ω–æ
–æ–ø–∏—Å—ã–≤–∞—é—Ç —Å—É—Ç—å –Ω–æ–≤–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ, –Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —ç–º–æ–¥–∑–∏.
–≠–º–æ–¥–∑–∏ –ù–ï –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∏–Ω–æ–Ω–∏–º–∏—á–Ω—ã–º–∏.
–ü—Ä–∏–º–µ—Ä—ã —Å—Ç–∏–ª—è: '<b>üß†üíß –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É AI-–∫–æ–º–ø–∞–Ω–∏—è–º–∏</b>',
'<b>ü§ñüé≠üëÖ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—É—á–µ–Ω–∏—é —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π</b>',
'<b>ü´±üëÅÔ∏èü´≤ –ü—Ä–æ—Ä—ã–≤ –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–º –∑—Ä–µ–Ω–∏–∏</b>',
'<b>üí°üëÖ –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ –≤ NLP</b>',
'<b>üéØü™øüìà –ù–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ Kaggle</b>',
'<b>üíºüå™Ô∏èüìâ –†—ã–Ω–æ–∫ AI-–≤–∞–∫–∞–Ω—Å–∏–π</b>'.
–í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û HTML-—Ç–µ–≥–∏ <b>—Ç–µ–∫—Å—Ç</b> –¥–ª—è –∂–∏—Ä–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞,
–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Ç–µ–∫—Å—Ç** –∏–ª–∏ –¥—Ä—É–≥–∏–µ Markdown —Ä–∞–∑–º–µ—Ç–∫–∏.
–í–ê–ñ–ù–û: –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ [1], [2], [3] –∏ —Ç.–¥.
–°—Å—ã–ª–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–∞–º–º–∞—Ä–∏ –ù–ï –î–û–õ–ñ–ù–ê –ø—Ä–µ–≤—ã—à–∞—Ç—å {max_summary_length} —Å–∏–º–≤–æ–ª–æ–≤.
–î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ —Å–∞–º–º–∞—Ä–∏,
–Ω–æ —Å—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞–π—Ç–µ –ª–∏–º–∏—Ç —Å–∏–º–≤–æ–ª–æ–≤.
denissexy - —ç—Ç–æ –∫–∞–Ω–∞–ª –ø—Ä–æ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç
""",
            "GROUP_SUMMARY_PROMPT": """
–û–±–æ–±—â–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Telegram-–≥—Ä—É–ø–ø—ã –≤ –∫—Ä–∞—Ç–∫–∏–π –¥–∞–π–¥–∂–µ—Å—Ç, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ NLP.
–Ø–∑—ã–∫ –¥–∞–π–¥–∂–µ—Å—Ç–∞ - —Ä—É—Å—Å–∫–∏–π, —Å—Å—ã–ª–∫–∏ –∏ —Ç–µ—Ä–º–∏–Ω—ã –æ—Å—Ç–∞–≤–ª—è–π –Ω–∞ —è–∑—ã–∫–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞.
–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π—Ç–µ –¥–∞–π–¥–∂–µ—Å—Ç –ø–æ —Ç–µ–º–∞–º –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ
–Ω–æ–º–µ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö [1], [2], [3] –∏ —Ç.–¥. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≥–æ–≤–æ—Ä—è—Ç
–æ–± –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ, —Ç–æ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤—Å–µ.
–î–ª—è —Å—Ç–∞—Ç–µ–π –∏ –Ω–æ–≤—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
–í–ê–ñ–ù–û: –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤–≤–µ–¥–µ–Ω–∏–µ –∏ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ. –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å—Ä–∞–∑—É —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–∞.
–í–ê–ñ–ù–û: –£—á–∏—Ç—ã–≤–∞–π—Ç–µ, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –≥—Ä—É–ø–ø –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏—è, –≤–æ–ø—Ä–æ—Å—ã –∏ –º–Ω–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.
–ï—Å–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç —á—Ç–æ-—Ç–æ –∏–ª–∏ –¥–∞—é—Ç —Å–æ–≤–µ—Ç—ã, –ù–ï –¥–æ—Å–ª–æ–≤–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–π—Ç–µ —ç—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ –æ–ø–∏—à–∏—Ç–µ —Ñ–∞–∫—Ç—ã –∏ —Å–æ–±—ã—Ç–∏—è, –æ –∫–æ—Ç–æ—Ä—ã—Ö –∏–¥–µ—Ç —Ä–µ—á—å.
–í–ê–ñ–ù–û: –ü–†–ò–î–ï–†–ñ–ò–í–ê–ô–¢–ï–°–¨ –ù–ï–ô–¢–†–ê–õ–¨–ù–û–ì–û –°–¢–ò–õ–Ø, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ,
–≤–æ—Å—Ç–æ—Ä–∂–µ–Ω–Ω—ã–µ –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–µ—É–≤–µ–ª–∏—á–µ–Ω–∏—è. –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ, –±–µ–∑ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–∏.
–í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∏–ª—å –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º –∏–∑ Telegram-–≥—Ä—É–ø–ø.
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å—Ç–∏–ª—å –∏—Å—Ö–æ–¥–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–º–æ–¥–∑–∏,
–∫–æ—Ä–æ—Ç–∫–∏–µ –∏ —è—Ä–∫–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –¥–ª—è Telegram. –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–µ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏.
–í–ê–ñ–ù–û: –í –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ 1-5 —ç–º–æ–¥–∑–∏, –∫–æ—Ç–æ—Ä—ã–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ –∏ –º–µ—Ç–∞—Ñ–æ—Ä–∏—á–Ω–æ
–æ–ø–∏—Å—ã–≤–∞—é—Ç —Å—É—Ç—å –Ω–æ–≤–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ, –Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —ç–º–æ–¥–∑–∏.
–≠–º–æ–¥–∑–∏ –ù–ï –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∏–Ω–æ–Ω–∏–º–∏—á–Ω—ã–º–∏.
–ü—Ä–∏–º–µ—Ä—ã —Å—Ç–∏–ª—è: '<b>üß†üíß –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É AI-–∫–æ–º–ø–∞–Ω–∏—è–º–∏</b>',
'<b>ü§ñüé≠üëÖ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—É—á–µ–Ω–∏—é —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π</b>',
'<b>ü´±üëÅÔ∏èü´≤ –ü—Ä–æ—Ä—ã–≤ –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–º –∑—Ä–µ–Ω–∏–∏</b>',
'<b>üí°üëÖ –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ –≤ NLP</b>',
'<b>üéØü™øüìà –ù–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ Kaggle</b>',
'<b>üíºüå™Ô∏èüìâ –†—ã–Ω–æ–∫ AI-–≤–∞–∫–∞–Ω—Å–∏–π</b>'.
–í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û HTML-—Ç–µ–≥–∏ <b>—Ç–µ–∫—Å—Ç</b> –¥–ª—è –∂–∏—Ä–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞,
–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Ç–µ–∫—Å—Ç** –∏–ª–∏ –¥—Ä—É–≥–∏–µ Markdown —Ä–∞–∑–º–µ—Ç–∫–∏.
–í–ê–ñ–ù–û: –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ [1], [2], [3] –∏ —Ç.–¥.
–°—Å—ã–ª–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–∞–º–º–∞—Ä–∏ –ù–ï –î–û–õ–ñ–ù–ê –ø—Ä–µ–≤—ã—à–∞—Ç—å {max_summary_length} —Å–∏–º–≤–æ–ª–æ–≤.
–î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ —Å–∞–º–º–∞—Ä–∏,
–Ω–æ —Å—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞–π—Ç–µ –ª–∏–º–∏—Ç —Å–∏–º–≤–æ–ª–æ–≤.
–ù–µ –¥–æ–±–∞–≤–ª—è–π –≤ —Å–∞–º–º–∞—Ä–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Ç –æ—Ç–≤–µ—Ç–∞.
""",
            "FIND_RELEVANT_SUMMARY_PROMPT": """
–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ç–µ–∫—Å—Ç–æ–≤. –û–ø—Ä–µ–¥–µ–ª–∏, –≤ –∫–∞–∫–æ–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–∞–º–º–∞—Ä–∏ –ª—É—á—à–µ –≤—Å–µ–≥–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
""",
        }

        self._prompts = self._defaults.copy()

        file_path = os.path.join(os.path.dirname(__file__), prompts_file)
        if os.path.exists(file_path):
            try:
                with open(file_path, "r", encoding="utf-8") as f:
                    custom_prompts = json.load(f)
                    self._prompts.update(custom_prompts)
            except (json.JSONDecodeError, IOError) as e:
                print(f"Warning: Could not load or parse {prompts_file}: {e}")

    def __getattr__(self, name):
        """Allows accessing prompts as attributes."""
        if name in self._prompts:
            return self._prompts[name]
        raise AttributeError(f"'PromptManager' object has no attribute '{name}'")


# Singleton instance to be used across the application
prompts = PromptManager()
